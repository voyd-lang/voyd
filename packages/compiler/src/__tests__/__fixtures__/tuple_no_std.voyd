@intrinsic_type(type: "optional-some")
pub obj Some<T> {
  api value: T
}

@intrinsic_type(type: "optional-none")
pub obj None {}

@intrinsic_type(type: "optional")
pub type Optional<T> = Some<T> | None

pub type Option<T> = Optional<T>

pub fn unwrap_or<T>(opt: Optional<T>, default: T): () -> T
  match(opt)
    Some { value }:
      value
    None:
      default

pub fn main() -> i32
  let t = Some<(i32, i32)> { value: (1, 2) }.unwrap_or((0, 0))
  t.0
