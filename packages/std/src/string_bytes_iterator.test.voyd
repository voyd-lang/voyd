use std::test::assertions::all
use std::optional::types::all
use std::string::{ new_string }

test "string byte_values iterates utf8 bytes":
  let values = "aðŸ˜€".byte_values()
  let ~iterator = values.iter()
  var count = 0
  var sum = 0

  while true do:
    let next = iterator.next()
    match(next)
      Some<i32> { value }:
        count = count + 1
        sum = sum + value
      None:
        break

  assert(count, eq: 5)
  assert(sum, eq: 776)
