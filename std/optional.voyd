use macros::all
use operators::all

pub obj Some<T> {
  value: T
}

pub obj None {}

pub type Optional<T> = Some<T> | None
pub type Option<T> = Optional<T>

pub fn some<T>(v: T) -> Optional<T>
  Some<T> { value: v }

pub fn none() -> None
  None {}


pub macro '?.'(l, r)
  ` if __opc := ~l then: __opc.~r else: none()
